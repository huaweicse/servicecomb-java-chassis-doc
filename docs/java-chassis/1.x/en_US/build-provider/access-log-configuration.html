
<!DOCTYPE HTML>
<html lang="en_US" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Access Log Configuration Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../catalog/build-consumer.html" />
    
    
    <link rel="prev" href="bootup.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" >
            
                <span>
            
                    
                    just-for-gitbook-build
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../transports/verticle-count.html">
            
                <a href="../transports/verticle-count.html">
            
                    
                    hidden
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../">
            
                <a href="../">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../catalog/start.html">
            
                <a href="../catalog/start.html">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../start/terminology.html">
            
                <a href="../start/terminology.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../start/architecture.html">
            
                <a href="../start/architecture.html">
            
                    
                    Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../start/development-environment.html">
            
                <a href="../start/development-environment.html">
            
                    
                    Development environment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../start/first-sample.html">
            
                <a href="../start/first-sample.html">
            
                    
                    Develop the first microservice
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../catalog/build-provider.html">
            
                <a href="../catalog/build-provider.html">
            
                    
                    Development Service Provider
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="definition/service-definition.html">
            
                <a href="definition/service-definition.html">
            
                    
                    Service definition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="define-contract.html">
            
                <a href="define-contract.html">
            
                    
                    Service contract definition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="code-first.html">
            
                <a href="code-first.html">
            
                    
                    Implicit API definition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="swagger-annotation.html">
            
                <a href="swagger-annotation.html">
            
                    
                    Use Swagger annotations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="springmvc.html">
            
                <a href="springmvc.html">
            
                    
                    Develop with SpringMVC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="jaxrs.html">
            
                <a href="jaxrs.html">
            
                    
                    Develop with JAX-RS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="transparent-rpc.html">
            
                <a href="transparent-rpc.html">
            
                    
                    Develop with Transparent RPC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="interface-constraints.html">
            
                <a href="interface-constraints.html">
            
                    
                    Interface definition and data type
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="listen-address-and-publish-address.html">
            
                <a href="listen-address-and-publish-address.html">
            
                    
                    Service listening address and publishing address
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="thread-pool.html">
            
                <a href="thread-pool.html">
            
                    
                    Thread pool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="service-configuration.html">
            
                <a href="service-configuration.html">
            
                    
                    Service Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.11.1" data-path="configuration/lb-strategy.html">
            
                <a href="configuration/lb-strategy.html">
            
                    
                    Load Balancing Policy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11.2" data-path="configuration/ratelimite-strategy.html">
            
                <a href="configuration/ratelimite-strategy.html">
            
                    
                    Rate Limiting Policy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11.3" data-path="configuration/downgrade-strategy.html">
            
                <a href="configuration/downgrade-strategy.html">
            
                    
                    Fallback Policy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11.4" data-path="configuration/parameter-validator.html">
            
                <a href="configuration/parameter-validator.html">
            
                    
                    Parameter Validator
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.12" data-path="bootup.html">
            
                <a href="bootup.html">
            
                    
                    Boot-up Process
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.13" data-path="access-log-configuration.html">
            
                <a href="access-log-configuration.html">
            
                    
                    Access Log Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../catalog/build-consumer.html">
            
                <a href="../catalog/build-consumer.html">
            
                    
                    Writing Service Consumer
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../build-consumer/common-configuration.html">
            
                <a href="../build-consumer/common-configuration.html">
            
                    
                    Consumer common configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../build-consumer/using-resttemplate.html">
            
                <a href="../build-consumer/using-resttemplate.html">
            
                    
                    Using Rest Template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../build-consumer/using-AsyncRestTemplate.html">
            
                <a href="../build-consumer/using-AsyncRestTemplate.html">
            
                    
                    Using AsynRestTemplate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../build-consumer/develop-consumer-using-rpc.html">
            
                <a href="../build-consumer/develop-consumer-using-rpc.html">
            
                    
                    Using with RPC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../build-consumer/with-contract.html">
            
                <a href="../build-consumer/with-contract.html">
            
                    
                    Contract
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../build-consumer/invoke-control.html">
            
                <a href="../build-consumer/invoke-control.html">
            
                    
                    Invoke control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.1" data-path="../build-consumer/circuit-breaker.html">
            
                <a href="../build-consumer/circuit-breaker.html">
            
                    
                    Circuit Breaker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.2" data-path="../build-consumer/flow-control.html">
            
                <a href="../build-consumer/flow-control.html">
            
                    
                    Flow Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.3" data-path="../build-consumer/fault-injection.html">
            
                <a href="../build-consumer/fault-injection.html">
            
                    
                    Fault Injection
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../build-consumer/3rd-party-service-invoke.html">
            
                <a href="../build-consumer/3rd-party-service-invoke.html">
            
                    
                    Invoke 3rd-party REST services
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../transports/transport.html">
            
                <a href="../transports/transport.html">
            
                    
                    Transports
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../transports/rest-over-servlet.html">
            
                <a href="../transports/rest-over-servlet.html">
            
                    
                    REST over Servlet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../transports/rest-over-vertx.html">
            
                <a href="../transports/rest-over-vertx.html">
            
                    
                    REST over Vertx
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../transports/highway-rpc.html">
            
                <a href="../transports/highway-rpc.html">
            
                    
                    Highway
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../transports/http2.html">
            
                <a href="../transports/http2.html">
            
                    
                    HTTP2
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../catalog/general-develop.html">
            
                <a href="../catalog/general-develop.html">
            
                    
                    General Development
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../general-development/visit-sc.html">
            
                <a href="../general-development/visit-sc.html">
            
                    
                    Access Service Center
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../general-development/metrics.html">
            
                <a href="../general-development/metrics.html">
            
                    
                    Metrics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../general-development/microservice-invocation-chain.html">
            
                <a href="../general-development/microservice-invocation-chain.html">
            
                    
                    Microservice invocation chain
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../general-development/customized-tracing.html">
            
                <a href="../general-development/customized-tracing.html">
            
                    
                    Customized-Tracing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../general-development/local-develop-test.html">
            
                <a href="../general-development/local-develop-test.html">
            
                    
                    Local development and testing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../general-development/http-filter.html">
            
                <a href="../general-development/http-filter.html">
            
                    
                    Http Filter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../general-development/file-upload.html">
            
                <a href="../general-development/file-upload.html">
            
                    
                    File Uploading
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../general-development/file-download.html">
            
                <a href="../general-development/file-download.html">
            
                    
                    File Downloading
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../general-development/reactive.html">
            
                <a href="../general-development/reactive.html">
            
                    
                    Reactive Programing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="../general-development/dnsconfig.html">
            
                <a href="../general-development/dnsconfig.html">
            
                    
                    DNS Custom Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="../general-development/dai-li-she-zhi.html">
            
                <a href="../general-development/dai-li-she-zhi.html">
            
                    
                    Proxy Settings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.12" data-path="../general-development/report-framework-version.html">
            
                <a href="../general-development/report-framework-version.html">
            
                    
                    Report framework version
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.13" data-path="../general-development/cross-app-invocation.html">
            
                <a href="../general-development/cross-app-invocation.html">
            
                    
                    Cross-application invocation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.14" data-path="../general-development/secret-field.html">
            
                <a href="../general-development/secret-field.html">
            
                    
                    Customized serialization and deserialization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15" data-path="../general-development/context.html">
            
                <a href="../general-development/context.html">
            
                    
                    Using Context to pass control messages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.16" data-path="../general-development/produceprocess.html">
            
                <a href="../general-development/produceprocess.html">
            
                    
                    Return value serialization extension
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.17" data-path="../general-development/CORS.html">
            
                <a href="../general-development/CORS.html">
            
                    
                    CORS mechanism
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.18" data-path="../general-development/AlarmEvent.html">
            
                <a href="../general-development/AlarmEvent.html">
            
                    
                    Get fuse and instance isolation alarm event information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.19" data-path="../general-development/shutdown.html">
            
                <a href="../general-development/shutdown.html">
            
                    
                    Shutdown gracefully
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.20" data-path="../general-development/error-handling.html">
            
                <a href="../general-development/error-handling.html">
            
                    
                    Handling exceptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.21" data-path="../general-development/multienvironment.html">
            
                <a href="../general-development/multienvironment.html">
            
                    
                    Multi-environment isolation between microservice instances
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.22" data-path="../general-development/thread-model.html">
            
                <a href="../general-development/thread-model.html">
            
                    
                    Thread Model
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../catalog/config.html">
            
                <a href="../catalog/config.html">
            
                    
                    Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../config/general-config.html">
            
                <a href="../config/general-config.html">
            
                    
                    General config
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../config/inject-config.html">
            
                <a href="../config/inject-config.html">
            
                    
                    Configuration injection
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../edge/open-service.html">
            
                <a href="../edge/open-service.html">
            
                    
                    Service Capability Open
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../edge/by-servicecomb-sdk.html">
            
                <a href="../edge/by-servicecomb-sdk.html">
            
                    
                    Using Edge Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../edge/nginx.html">
            
                <a href="../edge/nginx.html">
            
                    
                    Using confd and Nginx as edge services
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../edge/zuul.html">
            
                <a href="../edge/zuul.html">
            
                    
                    Use zuul as edge services
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../catalog/service-package-run.html">
            
                <a href="../catalog/service-package-run.html">
            
                    
                    Service Packing and Running
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../packaging/standalone.html">
            
                <a href="../packaging/standalone.html">
            
                    
                    Standalone mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../packaging/web-container.html">
            
                <a href="../packaging/web-container.html">
            
                    
                    WEB container mode
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../catalog/security.html">
            
                <a href="../catalog/security.html">
            
                    
                    Micro Service Security
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../security/tls.html">
            
                <a href="../security/tls.html">
            
                    
                    Using TLS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../security/rsa.html">
            
                <a href="../security/rsa.html">
            
                    
                    Using RSA certification
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../using-java-chassis-in-spring-boot.html">
            
                <a href="../using-java-chassis-in-spring-boot.html">
            
                    
                    Using java chassis in Spring Boot
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../using-java-chassis-in-spring-boot/components-for-spring-boot.html">
            
                <a href="../using-java-chassis-in-spring-boot/components-for-spring-boot.html">
            
                    
                    spring boot starter for java-chassis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../using-java-chassis-in-spring-boot/java-application.html">
            
                <a href="../using-java-chassis-in-spring-boot/java-application.html">
            
                    
                    JAVA application development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../using-java-chassis-in-spring-boot/web-application.html">
            
                <a href="../using-java-chassis-in-spring-boot/web-application.html">
            
                    
                    Web development method development
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../using-java-chassis-in-spring-boot/diff-between-java-web.html">
            
                <a href="../using-java-chassis-in-spring-boot/diff-between-java-web.html">
            
                    
                    The difference between JAVA application method and Web development method
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../using-java-chassis-in-spring-boot/diff-spring-mvc.html">
            
                <a href="../using-java-chassis-in-spring-boot/diff-spring-mvc.html">
            
                    
                    The difference in Spring MVC mode
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../references-handlers/intruduction.html">
            
                <a href="../references-handlers/intruduction.html">
            
                    
                    Handlers reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../references-handlers/loadbalance.html">
            
                <a href="../references-handlers/loadbalance.html">
            
                    
                    Load Balancing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../references-handlers/publickey.html">
            
                <a href="../references-handlers/publickey.html">
            
                    
                    Public key authentication
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../question-and-answer/question_answer.html">
            
                <a href="../question-and-answer/question_answer.html">
            
                    
                    FAQ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../question-and-answer/interface-compatibility.html">
            
                <a href="../question-and-answer/interface-compatibility.html">
            
                    
                    Micro Service Interface Compatibility FAQ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Access Log Configuration</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="concepts">Concepts</h2>
<p>ServiceComb provides Vert.x based access log. When developing with REST over Vert.x , access log printing can be enabled through a simple configuration.</p>
<h2 id="scenario">Scenario</h2>
<p>The user may need the access log when debugging the application. When using REST over servlet, the web container provides the access log function; for REST over Vert.x, ServiceComb provides a set of access log functionalities.</p>
<h2 id="configuration">Configuration</h2>
<h3 id="enable-access-log">Enable Access Log</h3>
<p>Add the following configurations in the microservice.yaml file to enable access log:</p>
<pre><code class="lang-yaml"><span class="hljs-attr">servicecomb:</span>
<span class="hljs-attr">  accesslog:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment">## Enable access log</span>
</code></pre>
<p><em><strong>Access log Configuration Items</strong></em></p>
<table>
<thead>
<tr>
<th style="text-align:left">Configuration Item</th>
<th style="text-align:left">Values</th>
<th style="text-align:left">Default Value</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">servicecomb.accesslog.enabled</td>
<td style="text-align:left">true/false</td>
<td style="text-align:left">false</td>
<td style="text-align:left">true to enabled access log</td>
</tr>
<tr>
<td style="text-align:left">servicecomb.accesslog.pattern</td>
<td style="text-align:left">the format of the log</td>
<td style="text-align:left">&quot;%h - - %t %r %s %B&quot;</td>
<td style="text-align:left">See <em><strong>log configuration items</strong></em> for more details</td>
</tr>
</tbody>
</table>
<blockquote>
<p><em><strong>Note</strong></em></p>
<ul>
<li>The 2 items are optional, if not configured, the default value will be applied.</li>
</ul>
</blockquote>
<h3 id="log-format-configuration">Log format configuration</h3>
<p>The currently available configuration items for log are describe in the following table <strong><em>Log configuration items(Apache &amp; W3C)</em></strong> and<strong><em>Log configuration items(ServiceComb)</em></strong> &#x3002;</p>
<p><em><strong>Log configuration items (Apache &amp; W3C)</strong></em></p>
<table>
<thead>
<tr>
<th style="text-align:left">Item</th>
<th style="text-align:left">Apache log format</th>
<th style="text-align:left">W3C log format</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">HTTP method</td>
<td style="text-align:left">%m</td>
<td style="text-align:left">cs-method</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">HTTP status</td>
<td style="text-align:left">%s</td>
<td style="text-align:left">sc-status</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">Duration in second</td>
<td style="text-align:left">%T</td>
<td style="text-align:left">-</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">Duration in millisecond</td>
<td style="text-align:left">%D</td>
<td style="text-align:left">-</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">Remote hostname</td>
<td style="text-align:left">%h</td>
<td style="text-align:left">-</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">Local hostname</td>
<td style="text-align:left">%v</td>
<td style="text-align:left">-</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">Local port</td>
<td style="text-align:left">%p</td>
<td style="text-align:left">-</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">Size of response</td>
<td style="text-align:left">%B</td>
<td style="text-align:left">-</td>
<td style="text-align:left">Print &quot;0&quot; if body size is 0</td>
</tr>
<tr>
<td style="text-align:left">Size of response</td>
<td style="text-align:left">%b</td>
<td style="text-align:left">-</td>
<td style="text-align:left">Print &quot;-&quot; if body size is 0</td>
</tr>
<tr>
<td style="text-align:left">First line of request</td>
<td style="text-align:left">%r</td>
<td style="text-align:left">-</td>
<td style="text-align:left">Include HTTP Method, Uri and HTTP version</td>
</tr>
<tr>
<td style="text-align:left">URI path</td>
<td style="text-align:left">%U</td>
<td style="text-align:left">cs-uri-stem</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">Query string</td>
<td style="text-align:left">%q</td>
<td style="text-align:left">cs-uri-query</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">URI path and query string</td>
<td style="text-align:left">-</td>
<td style="text-align:left">cs-uri</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">Request protocol</td>
<td style="text-align:left">%H</td>
<td style="text-align:left">-</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">Datetime the request is received</td>
<td style="text-align:left">%t</td>
<td style="text-align:left">-</td>
<td style="text-align:left">Print time stamp by the default configuration, the format is &quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, in English and GMT time zone</td>
</tr>
<tr>
<td style="text-align:left">Configurable datetime the request is received</td>
<td style="text-align:left">%{PATTERN}t</td>
<td style="text-align:left">-</td>
<td style="text-align:left">Print time stamp by specified format, in English and GMT time zone</td>
</tr>
<tr>
<td style="text-align:left">Configurable datetime the request is received</td>
<td style="text-align:left">%{PATTERN|TIMEZONE|LOCALE}t</td>
<td style="text-align:left">-</td>
<td style="text-align:left">Print time stamp by the specified format, language and time zone. The items between vertical bar can be empty(while the \</td>
<td>should not be omitted)</td>
</tr>
<tr>
<td style="text-align:left">Request header</td>
<td style="text-align:left">%{VARNAME}i</td>
<td style="text-align:left">-</td>
<td style="text-align:left">Print &quot;-&quot; if the specified request header is not found</td>
</tr>
<tr>
<td style="text-align:left">Response header</td>
<td style="text-align:left">%{VARNAME}o</td>
<td style="text-align:left">-</td>
<td style="text-align:left">Print &quot;-&quot; if the specified response header is not found</td>
</tr>
<tr>
<td style="text-align:left">Cookie</td>
<td style="text-align:left">%{VARNAME}C</td>
<td style="text-align:left">-</td>
<td style="text-align:left">Print &quot;-&quot; if the specified cookie is not found</td>
</tr>
</tbody>
</table>
<p><em><strong>Log configuration items(ServiceComb)</strong></em></p>
<table>
<thead>
<tr>
<th style="text-align:left">Element</th>
<th style="text-align:left">Placeholder</th>
<th style="text-align:left">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">TraceId</td>
<td style="text-align:left">%SCB-traceId</td>
<td style="text-align:left">Print the trace id generated by ServiceComb, if the id is not found, print &quot;-&quot;</td>
</tr>
<tr>
<td style="text-align:left">Invocation Context</td>
<td style="text-align:left">%{VARNAME}SCB-ctx</td>
<td style="text-align:left">Print the invocation context value whose key is <code>VARNAME</code>, if the key is not found, print &quot;-&quot;</td>
</tr>
</tbody>
</table>
<h3 id="output-file-configuration">Output file configuration</h3>
<p>The default log framework for Access log is Log4j which provides a default set of configurations for output files. Users can override these configurations in their own log4j.properties file. The configuration items for output files are as follows.</p>
<p><em><strong>Log file configuration items</strong></em></p>
<table>
<thead>
<tr>
<th style="text-align:left">Item</th>
<th style="text-align:left">Default Value</th>
<th style="text-align:left">Description</th>
<th style="text-align:left">Remarks</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">paas.logs.accesslog.dir</td>
<td style="text-align:left">${paas.logs.dir}</td>
<td style="text-align:left">The output path of the log file</td>
<td style="text-align:left">The common logs will be outputted to the same path</td>
</tr>
<tr>
<td style="text-align:left">paas.logs.accesslog.file</td>
<td style="text-align:left">access.log</td>
<td style="text-align:left">Name of the log file</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">log4j.appender.access.MaxBackupIndex</td>
<td style="text-align:left">10</td>
<td style="text-align:left">Max file numbers for log rotating</td>
<td style="text-align:left">-</td>
</tr>
<tr>
<td style="text-align:left">log4j.appender.access.MaxFileSize</td>
<td style="text-align:left">20MB</td>
<td style="text-align:left">Max size of log file</td>
<td style="text-align:left">When log file reaches the max size, log rotating is triggered</td>
</tr>
<tr>
<td style="text-align:left">.appender.access.logPermission</td>
<td style="text-align:left">rw-------</td>
<td style="text-align:left">Log file permissions</td>
<td style="text-align:left">-</td>
</tr>
</tbody>
</table>
<blockquote>
<p><em><strong>Note</strong></em> 
Since ServiceComb&apos;s log function relies only on the slf4j interface, users can select other log frameworks. For other frameworks, users need to configure the log file output options.</p>
</blockquote>
<h3 id="switch-to-logback">Switch to logback</h3>
<blockquote>
<p>For the project that uses logback, the log framework dependency should be changed from Log4j to logback with some extra configurations to make access log work.</p>
</blockquote>
<h4 id="1-remove-log4j-dependencies">1. Remove Log4j dependencies</h4>
<p>Before switching to logback, check the dependencies of the project and remove Log4j related dependencies. Run the maven command <code>dependency:tree</code> in the project, find the ServiceComb components that depend on Log4j, and add the following configuration to its <code>&lt;dependency&gt;</code>:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>slf4j-log4j12<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span>
</code></pre>
<h4 id="2-add-a-logback-dependency">2. Add a logback dependency</h4>
<p>Add a dependency for the logback in the pom file:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>slf4j-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>ch.qos.logback<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>logback-classic<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>ch.qos.logback<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>logback-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 id="3-configure-the-logger-for-the-access-log-component">3. Configure the logger for the access log component</h4>
<p>Since the log component provided by ServiceComb obtains the logger named <code>accesslog</code> for log printing, the key to log framework switching is to provide a file called <code>accesslog</code> and configure the output file for it. The following is a sample configuration of the access log for logback. It only shows the configurations related to the access log. Other log configurations are omitted:</p>
<pre><code class="lang-xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span><span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- Users can customize the appender by their requirement --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;ACCESSLOG&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">file</span>&gt;</span>./logs/access.log<span class="hljs-tag">&lt;/<span class="hljs-name">file</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">rollingPolicy</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">fileNamePattern</span>&gt;</span>./logs/access-%d{yyyy-MM-dd}.log<span class="hljs-tag">&lt;/<span class="hljs-name">fileNamePattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">rollingPolicy</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- <span class="hljs-doctag">Note:</span> the access log content is formatted in code, the pattern should only specify the message without extra format --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- Provide a logger named &quot;accesslog&quot; for log printing --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;accesslog&quot;</span> <span class="hljs-attr">level</span>=<span class="hljs-string">&quot;INFO&quot;</span> <span class="hljs-attr">additivity</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;ACCESSLOG&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">logger</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</code></pre>
<h3 id="extending-access-log">Extending Access Log</h3>
<p>Users can customize their AccessLogItem by ServiceComb&apos;s AccessLogItem extension mechanism.</p>
<h4 id="related-classes">Related classes</h4>
<ol>
<li><code>AccessLogItem</code></li>
</ol>
<pre><code class="lang-java">  <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">AccessLogItem</span>&lt;<span class="hljs-title">T</span>&gt; </span>{
    <span class="hljs-comment">/**
     * Get specified content from accessLogParam, generate the access log and return
     */</span>
    <span class="hljs-function">String <span class="hljs-title">getFormattedItem</span><span class="hljs-params">(AccessLogParam&lt;T&gt; accessLogParam)</span></span>;
  }
</code></pre>
<p>The definition of <code>AccessLogItem</code> is as shown above. When request triggers Access Log printing, ServiceComb&apos;s Access Log mechanism will traverse a valid <code>AccessLogItem</code>, call the <code>getFormattedItem</code> method to get the item&apos;s Access Log fragment, concatenate all the the fragments into an Access Log, and output it to the log file.</p>
<p>The parameter <code>AccessLogParam&lt;T&gt;</code> contains the request start time, the end time, and the request context of type <code>T</code>. In the REST over Vert.x communication mode, the type <code>T</code> is the <code>RoutingContext</code> of Vert.x.</p>
<ol>
<li><code>VertxRestAccessLogItemMeta</code></li>
</ol>
<pre><code class="lang-java">  <span class="hljs-comment">// pattern placeholder prefix</span>
  <span class="hljs-keyword">protected</span> String prefix;
  <span class="hljs-comment">// pattern placeholder suffix</span>
  <span class="hljs-keyword">protected</span> String suffix;
  <span class="hljs-comment">// order number of priority</span>
  <span class="hljs-keyword">protected</span> <span class="hljs-keyword">int</span> order;
  <span class="hljs-comment">// AccessLogItem constructor</span>
  <span class="hljs-keyword">protected</span> AccessLogItemCreator&lt;RoutingContext&gt; accessLogItemCreator;
</code></pre>
<p>The  <code>VertxRestAccessLogItemMeta</code> contains the properties listed above, it specifies how ServiceComb parse the pattern string to get specific AccessLogItem.</p>
<ul>
<li><p>To define a <code>AccessLogItem</code> with placeholder <code>%user-defined</code>, declare a subclass of <code>VertxRestAccessLogItemMeta</code>&#xFF0C;set prefix=&quot;%user-defined&quot;, suffix=null, when <code>AccessLogPatternParser</code> parses the &quot;%user-defined&quot;, it will fetch the <code>AccessLogItemCreator</code> from the meta class and create the corresponding <code>AccessLogItem</code>. <strong>Note:</strong> since there is not variable in placeholder &quot;%user-defined&quot;, the call to <code>AccessLogItemCreator</code> passes the configuration parameter null&#x3002;</p>
</li>
<li><p>To get a <code>AccessLogItem</code> with placeholder <code>%{VARNAME}user-defined</code>, declare a subclass of<code>VertxRestAccessLogItemMeta</code>, set prefix=&quot;%{&quot;, suffix=&quot;}user-defined&quot;. When <code>AccessLogPatternParser</code>parses &quot;%{VARNAME}user-defined&quot;, it will extract the &quot;VARNAME&quot; as parameter to call <code>AccessLogItemCreator</code>, to create a <code>AccessLogItem</code>.</p>
<p><code>VertxRestAccessLogItemMeta</code> has a subclass<code>CompositeVertxRestAccessLogItemMeta</code>. When user needs to define multiple AccessLogItems, multiple <code>VertxRestAccessLogItemMeta</code> can be aggregated into <code>CompositeVertxRestAccessLogItemMeta</code>. When Parser loads AccessLogItemMeta of type <code>CompositeVertxRestAccessLogItemMeta</code>, it calls the meta class&apos;s <code>getAccessLogItemMetas()</code> method to get a set of AccessLogItemMeta. <code>VertxRestAccessLogItemMeta</code> is loaded by the SPI mechanism, and <code>CompositeVertxRestAccessLogItemMeta</code> allows user to load multiple meta infos with on one record in the SPI configuration file, which provides great flexibility.</p>
</li>
<li><p><code>AccessLogItemCreator</code></p>
</li>
</ul>
<pre><code class="lang-java">  <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">AccessLogItemCreator</span>&lt;<span class="hljs-title">T</span>&gt; </span>{
    <span class="hljs-comment">// Receive configuration values and return an AccessLogItem. The method receives a null if there is no variables in AccessLogItem placeholder</span>
    <span class="hljs-function">AccessLogItem&lt;T&gt; <span class="hljs-title">createItem</span><span class="hljs-params">(String config)</span></span>;
  }
</code></pre>
<p>The user instantiates his AccessLogItem by setting the AccessLogItemCreator in the custom VertxRestAccessLogItemMeta. Since this is a functional interface, when the AccessLogItem is initialized in a simple way, you can directly define the Creator using a Lambda expression to simplify development.</p>
<h4 id="matching-rules-of-accesslogitemmeta">Matching rules of AccessLogItemMeta</h4>
<p>Once AccessLogItemMeta is loaded into the Parser, it will be sorted once. Parser will match the meta list from front to back when parsing the pattern string. The general matching rules are as follows:</p>
<ol>
<li>Match metas with higher priority.</li>
<li>Match the meta with suffix first. When metas with multiple suffixes are matched, <del>take the one with the smallest suffix.</del></li>
<li>Match the meta with a longer placeholder, for example, there are two metas, &quot;%abc&quot; and &quot;%a&quot;. If  &quot;%abc&quot; is matched, it will return directly.</li>
</ol>
<h4 id="sample">Sample</h4>
<ol>
<li><p>Extend AccessLogItem</p>
<p>First, the user needs the AccessLogItem interface to implement their own item:</p>
</li>
</ol>
<pre><code class="lang-java">  <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDefinedAccessLogItem</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">AccessLogItem</span>&lt;<span class="hljs-title">RoutingContext</span>&gt; </span>{
    <span class="hljs-keyword">private</span> String config;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">UserDefinedAccessLogItem</span><span class="hljs-params">(String config)</span> </span>{
      <span class="hljs-keyword">this</span>.config = config;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getFormattedItem</span><span class="hljs-params">(AccessLogParam&lt;RoutingContext&gt; accessLogParam)</span> </span>{
      <span class="hljs-comment">// Here is the user&apos;s custom logic, user needs to take relevant data from AccessLogParam or other places, generate and return access log fragments</span>
      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;user-defined-[&quot;</span> + config + <span class="hljs-string">&quot;]-[&quot;</span> + accessLogParam.getStartMillisecond() + <span class="hljs-string">&quot;]&quot;</span>;
    }
  }
</code></pre>
<ol>
<li>Define AccessLogItem meta class</li>
</ol>
<p>Inherit the class <code>VertxRestAccessLogItemMeta</code> or <code>CompositeVertxRestAccessLogItemMeta</code>, define the prefix and suffix of the AccessLogItem:</p>
<pre><code class="lang-java">  <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDefinedCompositeExtendedAccessLogItemMeta</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CompositeVertxRestAccessLogItemMeta</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> List&lt;VertxRestAccessLogItemMeta&gt; META_LIST = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();

    <span class="hljs-keyword">static</span> {
      META_LIST.add(<span class="hljs-keyword">new</span> VertxRestAccessLogItemMeta(<span class="hljs-string">&quot;%{&quot;</span>, <span class="hljs-string">&quot;}user-defined&quot;</span>, UserDefinedAccessLogItem::<span class="hljs-keyword">new</span>));
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;VertxRestAccessLogItemMeta&gt; <span class="hljs-title">getAccessLogItemMetas</span><span class="hljs-params">()</span> </span>{
      <span class="hljs-keyword">return</span> META_LIST;
    }
  }
</code></pre>
<ol>
<li>Configure the SPI load file</li>
</ol>
<p>In the <code>resources/META-INF/services/</code> directory, create a file named &quot;org.apache.servicecomb.transport.rest.vertx.accesslog.parser.VertxRestAccessLogItemMeta&quot; and fill in the full class path of the meta class defined in the previous step. Parser will use this file to load the meta class.</p>
<ol>
<li>Configure Access Log pattern</li>
</ol>
<p>The configuration pattern in the microservice.yaml file is assumed to be &quot;%{test-config}user-defined&quot;. The running service triggers the Access Log to print. If the request start time is 1, Access Log will print &quot;user- Defined-[test-config]-[1]&quot;.</p>
<h2 id="sample-code">Sample code</h2>
<h3 id="configurations-in-microserviceyaml">Configurations in microservice.yaml</h3>
<pre><code class="lang-yaml"><span class="hljs-comment">## other configurations omitted</span>
<span class="hljs-attr">servicecomb:</span>
<span class="hljs-attr">  accesslog:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment">## Enable access log</span>
<span class="hljs-attr">    pattern:</span> <span class="hljs-string">&quot;%h - - %t %r %s %B&quot;</span>  <span class="hljs-comment">## Custom log format</span>
</code></pre>
<h3 id="configurations-in-log4jproperties">Configurations in log4j.properties</h3>
<pre><code class="lang-properties"># access log configuration item
paas.logs.accesslog.dir=../logs/
paas.logs.accesslog.file=access.log
# access log File appender
log4j.appender.access.MaxBackupIndex=10
log4j.appender.access.MaxFileSize=20MB
log4j.appender.access.logPermission=rw-------
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="bootup.html" class="navigation navigation-prev " aria-label="Previous page: Boot-up Process">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../catalog/build-consumer.html" class="navigation navigation-next " aria-label="Next page: Writing Service Consumer">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Access Log Configuration","level":"1.4.13","depth":2,"next":{"title":"Writing Service Consumer","level":"1.5","depth":1,"path":"catalog/build-consumer.md","ref":"catalog/build-consumer.md","articles":[{"title":"Consumer common configuration","level":"1.5.1","depth":2,"path":"build-consumer/common-configuration.md","ref":"build-consumer/common-configuration.md","articles":[]},{"title":"Using Rest Template","level":"1.5.2","depth":2,"path":"build-consumer/using-resttemplate.md","ref":"build-consumer/using-resttemplate.md","articles":[]},{"title":"Using AsynRestTemplate","level":"1.5.3","depth":2,"path":"build-consumer/using-AsyncRestTemplate.md","ref":"build-consumer/using-AsyncRestTemplate.md","articles":[]},{"title":"Using with RPC","level":"1.5.4","depth":2,"path":"build-consumer/develop-consumer-using-rpc.md","ref":"build-consumer/develop-consumer-using-rpc.md","articles":[]},{"title":"Contract","level":"1.5.5","depth":2,"path":"build-consumer/with-contract.md","ref":"build-consumer/with-contract.md","articles":[]},{"title":"Invoke control","level":"1.5.6","depth":2,"path":"build-consumer/invoke-control.md","ref":"build-consumer/invoke-control.md","articles":[{"title":"Circuit Breaker","level":"1.5.6.1","depth":3,"path":"build-consumer/circuit-breaker.md","ref":"build-consumer/circuit-breaker.md","articles":[]},{"title":"Flow Control","level":"1.5.6.2","depth":3,"path":"build-consumer/flow-control.md","ref":"build-consumer/flow-control.md","articles":[]},{"title":"Fault Injection","level":"1.5.6.3","depth":3,"path":"build-consumer/fault-injection.md","ref":"build-consumer/fault-injection.md","articles":[]}]},{"title":"Invoke 3rd-party REST services","level":"1.5.7","depth":2,"path":"build-consumer/3rd-party-service-invoke.md","ref":"build-consumer/3rd-party-service-invoke.md","articles":[]}]},"previous":{"title":"Boot-up Process","level":"1.4.12","depth":2,"path":"build-provider/bootup.md","ref":"build-provider/bootup.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"introduction.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en_US","gitbook":"*"},"file":{"path":"build-provider/access-log-configuration.md","mtime":"2020-02-10T07:31:45.848Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-02-10T07:32:25.443Z"},"basePath":"..","book":{"language":"en_US"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

